<view class="container"><view class="meteor-container"><view wx:for="{{a}}" wx:for-item="meteor" wx:key="a" class="meteor" style="{{'left:' + meteor.b + ';' + ('top:' + meteor.c) + ';' + ('transform:' + meteor.d) + ';' + ('opacity:' + meteor.e) + ';' + ('animation-delay:' + meteor.f)}}"></view></view><view class="star-field"><view wx:for="{{b}}" wx:for-item="star" wx:key="a" class="star" style="{{'left:' + star.b + ';' + ('top:' + star.c) + ';' + ('transform:' + star.d) + ';' + ('opacity:' + star.e) + ';' + ('animation-delay:' + star.f)}}"></view></view><canvas canvas-id="textCanvas" style="position:absolute;left:-9999px"></canvas><view class="question-card"><block wx:if="{{r0}}"><textarea placeholder="心诚则灵，请输入所问之事" class="question-input" value="{{c}}" bindinput="{{d}}"/></block></view><view wx:if="{{e}}" class="divination-process"><view bindtap="{{i}}" class="{{['tortoise-shell', j && 'shell-shake']}}"><image class="shell-image" src="{{f}}" mode="aspectFit"></image><view wx:if="{{g}}" class="result-container"><view wx:for="{{h}}" wx:for-item="result" wx:key="b" class="coin" style="{{'animation-delay:' + result.c}}"><image class="coin-image" src="{{result.a}}" mode="aspectFit"></image></view></view></view><view class="process-text"><text>{{k}}</text></view><view wx:if="{{l}}" class="yao-progress"><text>第{{m}}/6爻</text></view></view><view wx:if="{{n}}" class="hexagram-container"><view class="hexagram"><view class="hexagram-name">{{o}}</view><view class="hexagram-lines"><view wx:for="{{p}}" wx:for-item="line" wx:key="b" class="line"><view wx:if="{{line.a}}" class="yang-line"></view><view wx:else class="yin-line"></view></view></view></view><view wx:if="{{q}}" class="hexagram"><view class="hexagram-name">{{r}}</view><view class="hexagram-lines"><view wx:for="{{s}}" wx:for-item="line" wx:key="b" class="line"><view wx:if="{{line.a}}" class="yang-line"></view><view wx:else class="yin-line"></view></view></view></view></view><button class="divine-btn" bindtap="{{w}}" disabled="{{x}}">{{t}} <text wx:if="{{v}}" class="hint-text">点击龟壳开始投掷</text></button><view wx:if="{{y}}" class="result-card"><text wx:if="{{z}}" class="title">{{A}}</text><text wx:if="{{B}}" class="judgment">卦辞：{{C}}</text><text wx:if="{{D}}" class="image">象曰：{{E}}</text><text wx:if="{{F}}" class="changed"> 变卦：{{G}}（{{H}}） </text><view wx:if="{{I}}" class="explanation-section"><text class="section-title">卦象解释</text><text class="explanation-text">{{J}}</text></view><view wx:if="{{K}}" class="fortune-section"><text class="section-title">吉凶判断</text><view class="fortune-item"><text class="fortune-label">整体运势：</text><text class="fortune-value">{{L}}</text></view><view class="fortune-item"><text class="fortune-label">事业分析：</text><text class="fortune-value">{{M}}</text></view><view class="fortune-item"><text class="fortune-label">感情分析：</text><text class="fortune-value">{{N}}</text></view><view class="fortune-item"><text class="fortune-label">财运分析：</text><text class="fortune-value">{{O}}</text></view><view class="fortune-item"><text class="fortune-label">健康建议：</text><text class="fortune-value">{{P}}</text></view><view class="fortune-item"><text class="fortune-label">注意事项：</text><text class="fortune-value">{{Q}}</text></view></view></view><view wx:if="{{R}}" class="history-section"><text class="section-title">占卜记录</text><view wx:for="{{S}}" wx:for-item="item" wx:key="e" class="history-item"><view class="history-header"><text class="date">{{item.a}}</text><text class="question">{{item.b}}</text></view><view class="history-result"><text class="result-text">{{item.c}}</text><text class="arrow">→</text><text class="result-text">{{item.d}}</text></view></view></view></view>